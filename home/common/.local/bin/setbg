#!/usr/bin/env bash
set -euo pipefail

if [[ "$#" -gt 0 ]]; then
  magick "$1" -scale "$(xwininfo -root | grep -oP '(?<=-geometry )\d+x\d+')" ~/Pictures/background.png
fi
if [[ -e ~/Pictures/background.png ]]; then
  pkill swaybg || :; swaybg -i ~/Pictures/background.png
fi
